<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.17">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3d-Printed Microsopes – intro_to_raytracing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">3d-Printed Microsopes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../../../labs/">
 <span class="dropdown-text">Labs Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../labs/lab1/">
 <span class="dropdown-text">Lab 1: Hello World</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../labs/lab2/">
 <span class="dropdown-text">Lab 2: Intro to Ray Tracing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../labs/lab3/">
 <span class="dropdown-text">Lab 3: 3d-printed Microscope</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#helpful-notes" id="toc-helpful-notes" class="nav-link active" data-scroll-target="#helpful-notes"><span class="header-section-number">1</span> Helpful Notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">General Workflow</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="cell-1" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-2" class="cell" data-outputid="cfb0dd73-4892-48ba-f1da-a3131539da7f">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install raytracing module using pip</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install raytracing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Collecting raytracing
  Downloading raytracing-1.3.7-py3-none-any.whl (1.6 MB)
     |▏                               | 10 kB 15.9 MB/s eta 0:00:01     |▍                               | 20 kB 16.0 MB/s eta 0:00:01     |▋                               | 30 kB 18.8 MB/s eta 0:00:01     |▉                               | 40 kB 14.7 MB/s eta 0:00:01     |█                               | 51 kB 14.3 MB/s eta 0:00:01     |█▏                              | 61 kB 15.5 MB/s eta 0:00:01     |█▍                              | 71 kB 14.7 MB/s eta 0:00:01     |█▋                              | 81 kB 15.9 MB/s eta 0:00:01     |█▉                              | 92 kB 15.2 MB/s eta 0:00:01     |██                              | 102 kB 16.2 MB/s eta 0:00:01     |██▎                             | 112 kB 16.2 MB/s eta 0:00:01     |██▍                             | 122 kB 16.2 MB/s eta 0:00:01     |██▋                             | 133 kB 16.2 MB/s eta 0:00:01     |██▉                             | 143 kB 16.2 MB/s eta 0:00:01     |███                             | 153 kB 16.2 MB/s eta 0:00:01     |███▎                            | 163 kB 16.2 MB/s eta 0:00:01     |███▍                            | 174 kB 16.2 MB/s eta 0:00:01     |███▋                            | 184 kB 16.2 MB/s eta 0:00:01     |███▉                            | 194 kB 16.2 MB/s eta 0:00:01     |████                            | 204 kB 16.2 MB/s eta 0:00:01     |████▎                           | 215 kB 16.2 MB/s eta 0:00:01     |████▌                           | 225 kB 16.2 MB/s eta 0:00:01     |████▋                           | 235 kB 16.2 MB/s eta 0:00:01     |████▉                           | 245 kB 16.2 MB/s eta 0:00:01     |█████                           | 256 kB 16.2 MB/s eta 0:00:01     |█████▎                          | 266 kB 16.2 MB/s eta 0:00:01     |█████▌                          | 276 kB 16.2 MB/s eta 0:00:01     |█████▊                          | 286 kB 16.2 MB/s eta 0:00:01     |█████▉                          | 296 kB 16.2 MB/s eta 0:00:01     |██████                          | 307 kB 16.2 MB/s eta 0:00:01     |██████▎                         | 317 kB 16.2 MB/s eta 0:00:01     |██████▌                         | 327 kB 16.2 MB/s eta 0:00:01     |██████▊                         | 337 kB 16.2 MB/s eta 0:00:01     |██████▉                         | 348 kB 16.2 MB/s eta 0:00:01     |███████                         | 358 kB 16.2 MB/s eta 0:00:01     |███████▎                        | 368 kB 16.2 MB/s eta 0:00:01     |███████▌                        | 378 kB 16.2 MB/s eta 0:00:01     |███████▊                        | 389 kB 16.2 MB/s eta 0:00:01     |████████                        | 399 kB 16.2 MB/s eta 0:00:01     |████████                        | 409 kB 16.2 MB/s eta 0:00:01     |████████▎                       | 419 kB 16.2 MB/s eta 0:00:01     |████████▌                       | 430 kB 16.2 MB/s eta 0:00:01     |████████▊                       | 440 kB 16.2 MB/s eta 0:00:01     |█████████                       | 450 kB 16.2 MB/s eta 0:00:01     |█████████▏                      | 460 kB 16.2 MB/s eta 0:00:01     |█████████▎                      | 471 kB 16.2 MB/s eta 0:00:01     |█████████▌                      | 481 kB 16.2 MB/s eta 0:00:01     |█████████▊                      | 491 kB 16.2 MB/s eta 0:00:01     |██████████                      | 501 kB 16.2 MB/s eta 0:00:01     |██████████▏                     | 512 kB 16.2 MB/s eta 0:00:01     |██████████▎                     | 522 kB 16.2 MB/s eta 0:00:01     |██████████▌                     | 532 kB 16.2 MB/s eta 0:00:01     |██████████▊                     | 542 kB 16.2 MB/s eta 0:00:01     |███████████                     | 552 kB 16.2 MB/s eta 0:00:01     |███████████▏                    | 563 kB 16.2 MB/s eta 0:00:01     |███████████▍                    | 573 kB 16.2 MB/s eta 0:00:01     |███████████▌                    | 583 kB 16.2 MB/s eta 0:00:01     |███████████▊                    | 593 kB 16.2 MB/s eta 0:00:01     |████████████                    | 604 kB 16.2 MB/s eta 0:00:01     |████████████▏                   | 614 kB 16.2 MB/s eta 0:00:01     |████████████▍                   | 624 kB 16.2 MB/s eta 0:00:01     |████████████▌                   | 634 kB 16.2 MB/s eta 0:00:01     |████████████▊                   | 645 kB 16.2 MB/s eta 0:00:01     |█████████████                   | 655 kB 16.2 MB/s eta 0:00:01     |█████████████▏                  | 665 kB 16.2 MB/s eta 0:00:01     |█████████████▍                  | 675 kB 16.2 MB/s eta 0:00:01     |█████████████▋                  | 686 kB 16.2 MB/s eta 0:00:01     |█████████████▊                  | 696 kB 16.2 MB/s eta 0:00:01     |██████████████                  | 706 kB 16.2 MB/s eta 0:00:01     |██████████████▏                 | 716 kB 16.2 MB/s eta 0:00:01     |██████████████▍                 | 727 kB 16.2 MB/s eta 0:00:01     |██████████████▋                 | 737 kB 16.2 MB/s eta 0:00:01     |██████████████▉                 | 747 kB 16.2 MB/s eta 0:00:01     |███████████████                 | 757 kB 16.2 MB/s eta 0:00:01     |███████████████▏                | 768 kB 16.2 MB/s eta 0:00:01     |███████████████▍                | 778 kB 16.2 MB/s eta 0:00:01     |███████████████▋                | 788 kB 16.2 MB/s eta 0:00:01     |███████████████▉                | 798 kB 16.2 MB/s eta 0:00:01     |████████████████                | 808 kB 16.2 MB/s eta 0:00:01     |████████████████▏               | 819 kB 16.2 MB/s eta 0:00:01     |████████████████▍               | 829 kB 16.2 MB/s eta 0:00:01     |████████████████▋               | 839 kB 16.2 MB/s eta 0:00:01     |████████████████▉               | 849 kB 16.2 MB/s eta 0:00:01     |█████████████████               | 860 kB 16.2 MB/s eta 0:00:01     |█████████████████▏              | 870 kB 16.2 MB/s eta 0:00:01     |█████████████████▍              | 880 kB 16.2 MB/s eta 0:00:01     |█████████████████▋              | 890 kB 16.2 MB/s eta 0:00:01     |█████████████████▉              | 901 kB 16.2 MB/s eta 0:00:01     |██████████████████              | 911 kB 16.2 MB/s eta 0:00:01     |██████████████████▎             | 921 kB 16.2 MB/s eta 0:00:01     |██████████████████▍             | 931 kB 16.2 MB/s eta 0:00:01     |██████████████████▋             | 942 kB 16.2 MB/s eta 0:00:01     |██████████████████▉             | 952 kB 16.2 MB/s eta 0:00:01     |███████████████████             | 962 kB 16.2 MB/s eta 0:00:01     |███████████████████▎            | 972 kB 16.2 MB/s eta 0:00:01     |███████████████████▍            | 983 kB 16.2 MB/s eta 0:00:01     |███████████████████▋            | 993 kB 16.2 MB/s eta 0:00:01     |███████████████████▉            | 1.0 MB 16.2 MB/s eta 0:00:01     |████████████████████            | 1.0 MB 16.2 MB/s eta 0:00:01     |████████████████████▎           | 1.0 MB 16.2 MB/s eta 0:00:01     |████████████████████▌           | 1.0 MB 16.2 MB/s eta 0:00:01     |████████████████████▋           | 1.0 MB 16.2 MB/s eta 0:00:01     |████████████████████▉           | 1.1 MB 16.2 MB/s eta 0:00:01     |█████████████████████           | 1.1 MB 16.2 MB/s eta 0:00:01     |█████████████████████▎          | 1.1 MB 16.2 MB/s eta 0:00:01     |█████████████████████▌          | 1.1 MB 16.2 MB/s eta 0:00:01     |█████████████████████▋          | 1.1 MB 16.2 MB/s eta 0:00:01     |█████████████████████▉          | 1.1 MB 16.2 MB/s eta 0:00:01     |██████████████████████          | 1.1 MB 16.2 MB/s eta 0:00:01     |██████████████████████▎         | 1.1 MB 16.2 MB/s eta 0:00:01     |██████████████████████▌         | 1.1 MB 16.2 MB/s eta 0:00:01     |██████████████████████▊         | 1.1 MB 16.2 MB/s eta 0:00:01     |██████████████████████▉         | 1.2 MB 16.2 MB/s eta 0:00:01     |███████████████████████         | 1.2 MB 16.2 MB/s eta 0:00:01     |███████████████████████▎        | 1.2 MB 16.2 MB/s eta 0:00:01     |███████████████████████▌        | 1.2 MB 16.2 MB/s eta 0:00:01     |███████████████████████▊        | 1.2 MB 16.2 MB/s eta 0:00:01     |████████████████████████        | 1.2 MB 16.2 MB/s eta 0:00:01     |████████████████████████        | 1.2 MB 16.2 MB/s eta 0:00:01     |████████████████████████▎       | 1.2 MB 16.2 MB/s eta 0:00:01     |████████████████████████▌       | 1.2 MB 16.2 MB/s eta 0:00:01     |████████████████████████▊       | 1.2 MB 16.2 MB/s eta 0:00:01     |█████████████████████████       | 1.3 MB 16.2 MB/s eta 0:00:01     |█████████████████████████       | 1.3 MB 16.2 MB/s eta 0:00:01     |█████████████████████████▎      | 1.3 MB 16.2 MB/s eta 0:00:01     |█████████████████████████▌      | 1.3 MB 16.2 MB/s eta 0:00:01     |█████████████████████████▊      | 1.3 MB 16.2 MB/s eta 0:00:01     |██████████████████████████      | 1.3 MB 16.2 MB/s eta 0:00:01     |██████████████████████████▏     | 1.3 MB 16.2 MB/s eta 0:00:01     |██████████████████████████▎     | 1.3 MB 16.2 MB/s eta 0:00:01     |██████████████████████████▌     | 1.3 MB 16.2 MB/s eta 0:00:01     |██████████████████████████▊     | 1.4 MB 16.2 MB/s eta 0:00:01     |███████████████████████████     | 1.4 MB 16.2 MB/s eta 0:00:01     |███████████████████████████▏    | 1.4 MB 16.2 MB/s eta 0:00:01     |███████████████████████████▍    | 1.4 MB 16.2 MB/s eta 0:00:01     |███████████████████████████▌    | 1.4 MB 16.2 MB/s eta 0:00:01     |███████████████████████████▊    | 1.4 MB 16.2 MB/s eta 0:00:01     |████████████████████████████    | 1.4 MB 16.2 MB/s eta 0:00:01     |████████████████████████████▏   | 1.4 MB 16.2 MB/s eta 0:00:01     |████████████████████████████▍   | 1.4 MB 16.2 MB/s eta 0:00:01     |████████████████████████████▌   | 1.4 MB 16.2 MB/s eta 0:00:01     |████████████████████████████▊   | 1.5 MB 16.2 MB/s eta 0:00:01     |█████████████████████████████   | 1.5 MB 16.2 MB/s eta 0:00:01     |█████████████████████████████▏  | 1.5 MB 16.2 MB/s eta 0:00:01     |█████████████████████████████▍  | 1.5 MB 16.2 MB/s eta 0:00:01     |█████████████████████████████▋  | 1.5 MB 16.2 MB/s eta 0:00:01     |█████████████████████████████▊  | 1.5 MB 16.2 MB/s eta 0:00:01     |██████████████████████████████  | 1.5 MB 16.2 MB/s eta 0:00:01     |██████████████████████████████▏ | 1.5 MB 16.2 MB/s eta 0:00:01     |██████████████████████████████▍ | 1.5 MB 16.2 MB/s eta 0:00:01     |██████████████████████████████▋ | 1.5 MB 16.2 MB/s eta 0:00:01     |██████████████████████████████▊ | 1.6 MB 16.2 MB/s eta 0:00:01     |███████████████████████████████ | 1.6 MB 16.2 MB/s eta 0:00:01     |███████████████████████████████▏| 1.6 MB 16.2 MB/s eta 0:00:01     |███████████████████████████████▍| 1.6 MB 16.2 MB/s eta 0:00:01     |███████████████████████████████▋| 1.6 MB 16.2 MB/s eta 0:00:01     |███████████████████████████████▉| 1.6 MB 16.2 MB/s eta 0:00:01     |████████████████████████████████| 1.6 MB 16.2 MB/s eta 0:00:01     |████████████████████████████████| 1.6 MB 16.2 MB/s 
Requirement already satisfied: numpy in /usr/local/lib/python3.7/dist-packages (from raytracing) (1.19.5)
Requirement already satisfied: matplotlib&gt;=3 in /usr/local/lib/python3.7/dist-packages (from raytracing) (3.2.2)
Requirement already satisfied: pygments in /usr/local/lib/python3.7/dist-packages (from raytracing) (2.6.1)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in /usr/local/lib/python3.7/dist-packages (from matplotlib&gt;=3-&gt;raytracing) (1.3.2)
Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,&gt;=2.0.1 in /usr/local/lib/python3.7/dist-packages (from matplotlib&gt;=3-&gt;raytracing) (3.0.7)
Requirement already satisfied: python-dateutil&gt;=2.1 in /usr/local/lib/python3.7/dist-packages (from matplotlib&gt;=3-&gt;raytracing) (2.8.2)
Requirement already satisfied: cycler&gt;=0.10 in /usr/local/lib/python3.7/dist-packages (from matplotlib&gt;=3-&gt;raytracing) (0.11.0)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.7/dist-packages (from python-dateutil&gt;=2.1-&gt;matplotlib&gt;=3-&gt;raytracing) (1.15.0)
Installing collected packages: raytracing
Successfully installed raytracing-1.3.7</code></pre>
</div>
</div>
<div id="cell-3" class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> raytracing <span class="im">import</span> <span class="op">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The general workflow for simulating an optical system is as follows: 1. Create the ImagingPath() object 2. Create an ObjectRays() object with desired parameters (e.g., number of rays, angular range, etc.) 3. Add optical components to the imaging path 4. Display the path, making sure to pass the rays object to the display function 5. Print out any desired information about the imaging path using the appropriate methods of the ImagingPath object. See documentation on ImagingPath <a href="https://raytracing.readthedocs.io/en/master/modules/raytracing.ImagingPath.html#imagingpath">here</a> for details.</p>
<div id="cell-5" class="cell" data-outputid="f76e8395-76e0-4797-a379-ff5de111a47e">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create imaging path object</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> ImagingPath()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rays object</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we have set:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  - The diameter of the object to 6</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  - the half angle to 0.01 rad</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  - the number of point sources or the number of ray fans (H) to 3</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  - the number of rays in each ray fan (T) to 3</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>objRays <span class="op">=</span> ObjectRays(diameter<span class="op">=</span><span class="dv">5</span>, halfAngle<span class="op">=</span><span class="fl">0.01</span>, H<span class="op">=</span><span class="dv">3</span>, T<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add/append objects to the imaging path. Use Space() to generate a gap between objects</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">50</span>))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>path.append(Aperture(diameter<span class="op">=</span><span class="dv">20</span>))</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">50</span>,n<span class="op">=</span><span class="dv">3</span>))</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>path.append(Lens(f<span class="op">=</span><span class="dv">50</span>, diameter<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">200</span>))</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>path.display(rays<span class="op">=</span>objRays, removeBlocked<span class="op">=</span><span class="va">False</span>, limitObjectToFieldOfView<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out desired information about the optical system</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(path.fieldOfView())</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Image size is </span><span class="sc">{</span>path<span class="sc">.</span>imageSize(useObject<span class="op">=</span><span class="va">True</span>)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Intro_to_RayTracing_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>39.99999692719027
Image size is 10.0</code></pre>
</div>
</div>
<section id="helpful-notes" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Helpful Notes</h1>
<ul>
<li>Read the documentation thoroughly if you have questions!</li>
<li>Rays which are blocked as they pass through the imaging system and don’t contribute to the final image are left off the displayed diagram by default. To change this, pass the argument <code>removeBlocked=False</code> to the display() method of the ImagingPath object.</li>
</ul>
<div id="cell-7" class="cell" data-outputid="7dfc82ce-5736-46c3-c01c-14110a6dd909">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> ImagingPath()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>objRays <span class="op">=</span> ObjectRays(diameter<span class="op">=</span><span class="dv">20</span>, halfAngle<span class="op">=</span><span class="fl">0.05</span>, H<span class="op">=</span><span class="dv">3</span>, T<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">50</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>path.append(Lens(f<span class="op">=</span><span class="dv">50</span>, diameter<span class="op">=</span><span class="dv">15</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">200</span>))</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>path.append(Lens(f<span class="op">=</span><span class="dv">50</span>))</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">100</span>))</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>path.display(rays<span class="op">=</span>objRays)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
/usr/local/lib/python3.7/dist-packages/raytracing/figure.py: 117
BeginnerHint: Infinite field of view: cannot use limitObjectToFieldOfView=True. The object height is instead set to the default value of 10.0.

/usr/local/lib/python3.7/dist-packages/raytracing/imagingpath.py: 797
BeginnerHint: Field of view is infinite. You can pass useObject=True to use the finite objectHeight.

/usr/local/lib/python3.7/dist-packages/raytracing/figure.py: 134
BeginnerHint: No aperture stop in the system: cannot use onlyPrincipalAndAxialRays=True since they are not defined. Showing the default ObjectRays instead. </code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Intro_to_RayTracing_files/figure-html/cell-6-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-8" class="cell" data-outputid="7a79efdc-d78b-4b7c-a625-4f4bcd1f27d2">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> ImagingPath()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#rays = UniformRays(yMax=10,M=3,N=3)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>rays <span class="op">=</span> ObjectRays(diameter<span class="op">=</span><span class="dv">10</span>, halfAngle<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">100</span>))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>path.append(Lens(f<span class="op">=</span><span class="dv">50</span>, diameter<span class="op">=</span><span class="dv">30</span>))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">30</span>))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>path.append(Aperture(diameter<span class="op">=</span><span class="dv">15</span>))</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>path.append(Space(d<span class="op">=</span><span class="dv">170</span>))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>path.display(rays,removeBlocked<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(path.NA())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Intro_to_RayTracing_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>0.1069379820609651</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>